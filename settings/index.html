<!DOCTYPE html>
<html>
<head>
    <!-- The '/homey.js' script must be included in your settings view to work -->
    <script
            type="text/javascript"
            src="/homey.js"
            data-origin="settings"
    ></script>
</head>
<body>
<header class="homey-header">
    <img src="/assets/images/vaillant-logo.png" alt="Vaillant"
         style="width: 100%; max-width: 200px; margin: 0 auto; display: block;">
    <h1 class="homey-title" data-i18n="settings.title">
        <!-- This will be filled with the translated string with key 'settings.title'. -->
    </h1>
    <p class="homey-subtitle" data-i18n="settings.subtitle">
        <!-- This field will also be translated -->
    </p>
</header>

<fieldset class="homey-form-fieldset">
    <legend class="homey-form-legend">Login myVaillant</legend>

    <div class="homey-form-group">
        <label class="homey-form-label" for="country">Select your country</label>
        <select class="homey-form-select" name="country" id="country">
            <option value="albania">Albania</option>
            <option value="austria">Austria</option>
            <option value="belgium">Belgium</option>
            <option value="bulgaria">Bulgaria</option>
            <option value="croatia">Croatia</option>
            <option value="cyprus">Cyprus</option>
            <option value="czechrepublic">Czechia</option>
            <option value="denmark">Denmark</option>
            <option value="estonia">Estonia</option>
            <option value="finland">Finland</option>
            <option value="france">France</option>
            <option value="georgia">Georgia</option>
            <option value="germany">Germany</option>
            <option value="greece">Greece</option>
            <option value="hungary">Hungary</option>
            <option value="ireland">Ireland</option>
            <option value="italy">Italy</option>
            <option value="kosovo">Kosovo</option>
            <option value="latvia">Latvia</option>
            <option value="lithuania">Lithuania</option>
            <option value="luxembourg">Luxembourg</option>
            <option value="netherlands">Netherlands</option>
            <option value="norway">Norway</option>
            <option value="poland">Poland</option>
            <option value="portugal">Portugal</option>
            <option value="romania">Romania</option>
            <option value="serbia">Serbia</option>
            <option value="slovakia">Slovakia</option>
            <option value="slovenia">Slovenia</option>
            <option value="spain">Spain</option>
            <option value="sweden">Sweden</option>
            <option value="switzerland">Switzerland</option>
            <option value="turkiye">Turkey</option>
            <option value="ukraine">Ukraine</option>
            <option value="unitedkingdom">United Kingdom</option>
            <option value="uzbekistan">Uzbekistan</option>
        </select>
    </div>
    <div class="homey-form-group">
        <label class="homey-form-label" for="username">Username</label>
        <input class="homey-form-input" id="username" type="text" value=""/>
    </div>
    <div class="homey-form-group">
        <label class="homey-form-label" for="password">Password</label>
        <input class="homey-form-input" id="password" type="password" value=""/>
    </div>
</fieldset>

<button id="save" class="homey-button-primary-full">Save changes</button>

<script type="text/javascript">
  // a method named 'onHomeyReady' must be present in your code
  function onHomeyReady(Homey) {
    // Tell Homey we're ready to be displayed
    Homey.ready();

    var countryElement = document.getElementById('country');
    var usernameElement = document.getElementById('username');
    var passwordElement = document.getElementById('password');
    var saveElement = document.getElementById('save');

    Homey.get('country', function(err, country) {
      if (err) return Homey.alert(err);
      countryElement.value = country;
    });

    Homey.get('username', function(err, username) {
      if (err) return Homey.alert(err);
      usernameElement.value = username;
    });

    Homey.get('password', function(err, password) {
      if (err) return Homey.alert(err);
      passwordElement.value = password;
    });

    saveElement.addEventListener('click', function(e) {
      Homey.set('country', countryElement.value, function(err) {
        if (err) return Homey.alert(err);
      });
      Homey.set('username', usernameElement.value, function(err) {
        if (err) return Homey.alert(err);
      });
      Homey.set('password', passwordElement.value, function(err) {
        if (err) return Homey.alert(err);
      });
    });
  }
</script>
</body>
</html>
